"use strict";(self.webpackChunkvolca_docs=self.webpackChunkvolca_docs||[]).push([[862],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=o.createContext({}),s=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=r,f=u["".concat(c,".").concat(d)]||u[d]||m[d]||a;return n?o.createElement(f,i(i({ref:t},p),{},{components:n})):o.createElement(f,i({ref:t},p))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9179:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=n(7462),r=(n(7294),n(3905));const a={sidebar_position:3},i="Without custom domain",l={unversionedId:"deploying/without-custom-domain",id:"deploying/without-custom-domain",title:"Without custom domain",description:"If you don't have a domain yet, you can still deploy your application. You will then have to use the automatically generated domains from CloudFront and API Gateway.",source:"@site/docs/deploying/without-custom-domain.md",sourceDirName:"deploying",slug:"/deploying/without-custom-domain",permalink:"/docs/deploying/without-custom-domain",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"With custom domain",permalink:"/docs/deploying/with-custom-domain"},next:{title:"Examples",permalink:"/docs/category/examples"}},c={},s=[],p={toc:s};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"without-custom-domain"},"Without custom domain"),(0,r.kt)("p",null,"If you don't have a domain yet, you can still deploy your application. You will then have to use the automatically generated domains from CloudFront and API Gateway."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Make sure no domain is configured in ",(0,r.kt)("inlineCode",{parentName:"li"},"volca.config.ts"),", .e.g.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="volca.config.ts"',title:'"volca.config.ts"'},'export const config: VolcaConfig = {\n  ...\n  environments: {\n    staging: {\n      ...\n      domain: "", // Leave this empty\n      ...\n    },\n  },\n};\n\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Then run the following command")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"yarn infra:deploy -s <environment>\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Once the deployment is complete, locate the domain name of your API. You can find it by signing in to the AWS console, navigating to the API Gateway service, clicking your API and selecting ",(0,r.kt)("inlineCode",{parentName:"p"},"Dashboard"),". Your domain name will be listed at the top of the page.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Update the location of the API for the webapp with the value you just copied:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:"clients/web/environment.ts","clients/web/environment.ts":!0},"import { config } from '../../volca.config';\n\nexport enum Environment {\n  LOCAL = 'local',\n  STAGING = 'staging',\n  PRODUCTION = 'production',\n}\n\ntype EnvironmentConfig = {\n  [env in Environment]: Record<string, string>;\n};\n\nexport const environments: EnvironmentConfig = {\n  local: {\n    HOST: '127.0.0.1',\n    PORT: '3000',\n    REACT_APP_API_URL: 'http://127.0.0.1:4000/',\n  },\n  staging: {\n    REACT_APP_API_URL: \"<REPLACE WITH GENERATED DOMAIN>\"\n  },\n  production: {\n    REACT_APP_API_URL: \"<REPLACE WITH GENERATED DOMAIN>\",\n  },\n};\n\n")))}u.isMDXComponent=!0}}]);